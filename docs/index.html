<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://tuxlab.org'>Check out our webpage</a></li>
            <li><a href='https://github.com/learnlinux'>View Our Source Code</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="lab-file">Lab File</h1>

<p>Every lab file is a file written in javascript, that outlines the lab a student will go through. A lab file should always have setup and tasks functions, run to setup the lab environment and tasks.</p>

<h2 id="creating-the-lab">Creating the Lab</h2>
<pre class="highlight javascript"><code>
<span class="kd">var</span> <span class="nx">gitLab1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">lab</span><span class="p">();</span>
</code></pre>

<p>Every lab file is a modification on a lab object, created and initialized on the server side. This gives the tuxlab API the ability to change and adapt to advances in the server side code and other tools being used, without needing to modify any specific lab file.</p>

<p>Thus, all labfiles must start with creating a new lab object. By running the command <code>var myLab = new lab();</code></p>

<h2 id="setup">Setup</h2>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">setup</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">env</span><span class="p">){</span>
  <span class="nx">env</span><span class="p">.</span><span class="nx">init</span><span class="p">()</span>
<span class="p">}</span>
</code></pre>

<p>Setup is a function that takes as an input an environment object. The setup function runs for each individual user before the lab is started. Therefore, it is essential that it starts with an e<code>env.init()</code> call which initializes the environment for the user.</p>

<p>Although the setup function can consist on only env.init(), it is important to provide as many of the tools, files and folders a student might use in the setup function to increase efficiency.</p>

<h2 id="tasks">Tasks</h2>

<p>Tasks are the individual steps a student goes through. Instructors can create as many tasks per lab and grade them and give feedback to students directly from the labfile using the student API. 
Each task is created by a lab.newTask method, taking as input the title, a setup and verifier functions.</p>

<h3 id="task-setup">Task setup</h3>
<pre class="highlight javascript"><code>
<span class="kd">var</span> <span class="nx">setup</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">env</span><span class="p">){</span>
  <span class="nx">env</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="s2">"labVm"</span><span class="p">,</span><span class="s2">"git clone https://github.com/cemersoz/gitlab-setup1"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="s2">"labVm"</span><span class="p">,</span><span class="s2">"./gitlab-setup1/deploy.sh"</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="s2">"labVm"</span><span class="p">,</span><span class="s2">"rm -rf ./gitlab-setup1"</span><span class="p">));</span>
<span class="p">}</span>
</code></pre>

<p>Each task setup is a function, taking as paramater an environment object. This function is called for each student environment to setup the tasks for each student. Every setup function MUST start with a <code>return env.start()</code> statement, although other steps can be chained to the end. It is crucial for the API to have the setup function return an environment promise. 
<aside class = "notice">The setup function is run before the task is attempted.</aside></p>

<p>It is important to note that while cloning git repositories is possible in the setup, it takes individual time and data connection for each user which are crucial and expensive resources. We suggest using regular unix commands and not relying on git as much as possible.</p>

<h3 id="task-verify">Task verify</h3>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">verifier</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">env</span><span class="p">,</span><span class="nx">student</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">env</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="s2">"labVm"</span><span class="p">,</span><span class="s2">"pwd /"</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">sOut</span><span class="p">,</span><span class="nx">sErr</span><span class="p">){</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">sOut</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">"my_dir"</span><span class="p">)){</span>
        <span class="nx">student</span><span class="p">.</span><span class="nx">setGrade</span><span class="p">(</span><span class="mi">1</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span>
        <span class="k">return</span> <span class="nx">env</span><span class="p">.</span><span class="nx">resolve</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">},</span><span class="kd">function</span><span class="p">(){</span>
      <span class="nx">student</span><span class="p">.</span><span class="nx">setGrade</span><span class="p">(</span><span class="mi">1</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span>
      <span class="nx">student</span><span class="p">.</span><span class="nx">feedback</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s2">"# Task failed\n## you did not create the directory \"my_dir\""</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">env</span><span class="p">.</span><span class="nx">reject</span><span class="p">();</span>
    <span class="p">});</span>

<span class="p">};</span>
</code></pre>

<p>Each task verify is a function taking as parameter an environment object and a student object. The verifier is run when a student clicks the <code>verify</code> button. A verifier function must result either in an <code>env.resolve()</code> or an <code>env.reject()</code> statement. </p>

<aside class = "notice">All verifiers must either resolve or reject the progress</aside>

<p>For graded tasks, it is important to set the grades of the students in the verifier, depending on their progress. It is also possible to give situation-specific feedback, in markdown format, using the student.feedback function call.</p>

<h3 id="task-description">Task Description</h3>
<pre class="highlight javascript"><code><span class="cm">/*@Task1
# This is Task1
## You can write markdown as a comment!
### Isn't that cool!
*/</span>
</code></pre>

<p>Task descriptions are written in the markdown format, also in the labfile. You can directly write your description, anywhere on the labfile, starting with <code>@task_name</code> in any multi-line comment. All task description are parsed out from labfiles by our regular expression matcher and added to the database! Coming with the beta release, you can add your markdown descriptions in our very own markdown formatter!</p>

<h3 id="creating-and-chaining-tasks">Creating and Chaining Tasks</h3>

<blockquote>
<p>Lets create a task with the setup and verifier from above.</p>
</blockquote>
<pre class="highlight javascript"><code>
<span class="kd">var</span> <span class="nx">task1</span> <span class="o">=</span> <span class="nx">lab</span><span class="p">.</span><span class="nx">newTask</span><span class="p">(</span><span class="s2">"mkdirTask"</span><span class="p">,</span><span class="nx">setup</span><span class="p">,</span><span class="nx">verifier</span><span class="p">);</span>
</code></pre>

<p>Tasks are created by the lab.newTask call, with paramaters taskName, setup and verifier functions.</p>

<blockquote>
<p>Lets pretend we have other functions and create more tasks&hellip;</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">task2</span> <span class="o">=</span> <span class="nx">lab</span><span class="p">.</span><span class="nx">newTask</span><span class="p">(</span><span class="s2">"cpTask"</span><span class="p">,</span><span class="nx">setup2</span><span class="p">,</span><span class="nx">verifier2</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">task3</span> <span class="o">=</span> <span class="nx">lab</span><span class="p">.</span><span class="nx">newTask</span><span class="p">(</span><span class="s2">"mvTask"</span><span class="p">,</span><span class="nx">setup3</span><span class="p">,</span><span class="nx">verifier3</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">task4</span> <span class="o">=</span> <span class="nx">lab</span><span class="p">.</span><span class="nx">newTask</span><span class="p">(</span><span class="s2">"rmTask"</span><span class="p">,</span><span class="nx">setup4</span><span class="p">,</span><span class="nx">verifier4</span><span class="p">);</span>

</code></pre>

<blockquote>
<p>Now lets chain our tasks in the tasks() method&hellip;</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">tasks</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">mylab</span><span class="p">.</span><span class="nx">init</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">nextTask</span><span class="p">(</span><span class="nx">task1</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">nextTask</span><span class="p">(</span><span class="nx">task2</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">nextTask</span><span class="p">(</span><span class="nx">task3</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">nextTask</span><span class="p">(</span><span class="nx">task4</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

<p>Tasks are chained using the nextTask method, in a function named tasks. Task chains should start with a lab.init() call.</p>

<h2 id="export">Export</h2>
<pre class="highlight javascript"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">myLab</span><span class="p">;</span>
</code></pre>

<p>At the end of the lab file, You must export the lab object you created and modified, exporting it in the standard npm way with the <code>module.exports</code> command.</p>

          <h1 id="environment-api">Environment API</h1>

<blockquote>
<p>All API calls are easily chainable</p>
</blockquote>
<pre class="highlight javascript"><code>
<span class="nx">env</span><span class="p">.</span><span class="nx">init</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="s2">"labVm"</span><span class="p">,</span><span class="s2">"echo hello world"</span><span class="p">));</span>

</code></pre>

<p>The Environment API consists of functions that allow users to create, modify and run commands on docker containers, reliant on the docker remote API. All functions are promise.js based and can be chained very easily with <code>.then</code> commands.</p>
<pre class="highlight javascript"><code>
<span class="nx">env</span><span class="p">.</span><span class="nx">init</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="s2">"labVm"</span><span class="p">,</span><span class="s2">"echo hello world"</span><span class="p">),</span>
  <span class="cm">/*failure case*/</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="cm">/*general failure case*/</span><span class="p">);</span>
</code></pre>

<p>Similarly, errors can be thrown and caught either at individual steps or after full execution -or both-, using the promise.js standard of either providing a failure case in the <code>Promise.then</code> case, or using a <code>.catch</code> statement</p>

<h2 id="env-init">Env.init()</h2>

<p>Initializes the environment for a unique student, creating a lab Virtual Machine for each student and allowing them to connect to it remotely, via their own terminal or our browser interface</p>

<h2 id="env-start">Env.start()</h2>

<p>Is a placeholder for chaining. </p>

<h2 id="env-shell">Env.shell()</h2>
<pre class="highlight javascript"><code><span class="nx">env</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="s2">"labVm"</span><span class="p">,</span><span class="s2">"echo hello world"</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">sOut</span><span class="p">,</span> <span class="nx">sErr</span><span class="p">){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sOut</span><span class="p">,</span><span class="nx">sErr</span><span class="p">);});</span>

</code></pre>

<blockquote>
<p>Don&rsquo;t forget, you can just clone git repositories.</p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">env</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="s2">"labVm"</span><span class="p">,</span><span class="s2">"cd /"</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="s2">"labVm"</span><span class="p">,</span><span class="s2">"git clone https://github.com/learnlinux/tuxlab-app"</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="s2">"labVm"</span><span class="p">,</span><span class="s2">"./deploy.sh"</span><span class="p">));</span>
</code></pre>

<p>Env.shell allows running classic shell commands in any Virtual Machine created using the Env API. The call Env.shell(vmName, command) results in a promise, resolved with standard out, standard error or rejects with null and an error. 
Every command in the student environment, aside from creating, updating, removing or networking virtual machines are meant to be implemented through env.shell().
<aside class = "success">Remember, you can always clone your files from github and run them</aside></p>

<p>Keep in mind that env.shell can easily be used to clone a git repository of your choice and run any executable you would like to put there since env.shell is capable of running any unix command. Including git clone and many others!</p>

<h2 id="env-createvm">Env.createVm()</h2>
<pre class="highlight javascript"><code><span class="nx">env</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">createVm</span><span class="p">({</span><span class="na">createOptions</span><span class="p">:</span> <span class="p">{</span><span class="na">name</span><span class="p">:</span> <span class="s2">"Jonathan"</span><span class="p">}});</span>
</code></pre>

<p>Env.createVm creates a virtual machine in addition to the labVm. Although not necessary for many labs, creating multiple virtual machines may allow the creation of more versatile labs. Using Env.network -to be implemented in beta- you can network together any number of Virtual Machines in whatever way you wish to create many different labs such as SSH-connection, server-hacking &hellip;</p>

<h2 id="env-updatevm">Env.updateVm()</h2>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">opts</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">attachStdErr</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">name</span><span class="p">:</span> <span class="s2">"Jeff"</span><span class="p">,</span>
  <span class="na">CMD</span><span class="p">:</span> <span class="p">[</span><span class="s2">"/bin/sh"</span><span class="p">]</span>
<span class="p">}</span>

<span class="nx">env</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span>
 <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">updateVm</span><span class="p">(</span><span class="s2">"vm1"</span><span class="p">,</span><span class="nx">opts</span><span class="p">));</span>
</code></pre>

<p>Env.update vm, updates a virtual machine with the given options. Although it can work with the labVm and all other Vms, we highly suggest not using it to update labVm as this may affectthe student connection</p>

<aside class = "warning">Using updateVm on the labVm may result in unexpected behavior!</aside>

<h2 id="env-removevm">Env.removeVm()</h2>
<pre class="highlight javascript"><code><span class="nx">env</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">env</span><span class="p">.</span><span class="nx">removeVm</span><span class="p">(</span><span class="s2">"Jeff"</span><span class="p">));</span>
</code></pre>

<p>Removes any virtual machine except the labVm. It is suggested that you use the removeVm call to remove virtual machines after they&rsquo;ll no longer be used to save resources. All virtual machines are terminated after a pre-determined countdown or when the student completes the lab.</p>

          <h1 id="student-api">Student API</h1>

<p>The Student API allows you to set task grades and get/set data for each students&rsquo; labs and tasks and give feedback to students in real time, after they submit their progress</p>

<h2 id="student-feedback">Student.feedback()</h2>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">md</span> <span class="o">=</span> <span class="err">`</span>
  <span class="err">#</span> <span class="nx">This</span> <span class="nx">is</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">feedback</span> <span class="nx">MD</span>
  <span class="err">##</span> <span class="nx">It</span> <span class="nx">works</span> <span class="k">in</span> <span class="nx">full</span> <span class="nx">markdown</span>
  <span class="nx">You</span> <span class="nx">can</span> <span class="k">do</span> <span class="nx">most</span> <span class="nx">things</span> <span class="kd">with</span> <span class="nx">it</span>
  <span class="err">`</span><span class="p">;</span>

<span class="nx">student</span><span class="p">.</span><span class="nx">feedback</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">md</span><span class="p">);</span>
</code></pre>

<p>Shows the feedback markdown provided to the student below the original task markdown once the verifier function runs. It is recommended that this is only called in the verifier function.</p>

<h2 id="student-setgrade">Student.setGrade()</h2>
<pre class="highlight javascript"><code><span class="nx">student</span><span class="p">.</span><span class="nx">setGrade</span><span class="p">(</span><span class="mi">3</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
</code></pre>

<p>Sets the grade of the student for a specific task to the given tuple. Takes two parameters, taskNo, gradeTuple. Grade is set to tuple[0] out of tuple[1]</p>

<h2 id="student-incrementgrade">Student.incrementGrade()</h2>
<pre class="highlight javascript"><code><span class="nx">student</span><span class="p">.</span><span class="nx">incrementGrade</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
</code></pre>

<p>increments the grade of the student for a specific task by the given number of points</p>

<h2 id="student-gettaskdata">Student.getTaskData()</h2>
<pre class="highlight javascript"><code><span class="nx">env</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">getTaskData</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)});</span>
</code></pre>

<p>Like env functions, student.getTaskData can only be called as part of a chain starting with an env.init() or env.start() call. It is a promise based function that returns a promise that either resolves with the data or rejects. For non-corrupt databases, rejecting should not be an issue. The call takes as a parameter the index -from 1- for which the data is asked.</p>

<h2 id="student-settaskdata">Student.setTaskData()</h2>
<pre class="highlight javascript"><code><span class="nx">student</span><span class="p">.</span><span class="nx">setTaskData</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>

<p>asynchronously sets the task data to the data provided. The first argument provided in the call is the task number -starting from 1- for the task to modify. </p>

<h2 id="student-getlabdata">Student.getLabData()</h2>
<pre class="highlight javascript"><code><span class="nx">env</span><span class="p">.</span><span class="nx">start</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">getLabData</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">});</span>
</code></pre>

<p>Like env functions, student.getLabData can only be called as part of a chain starting with an env.init() or env.start() call. It is a promise based function that returns a promise which either resolves with the lab data or rejects. For non-corrupt databases, rejecting should not be an issue.</p>

<h2 id="student-setlabdata">Student.setLabData()</h2>
<pre class="highlight javascript"><code><span class="nx">student</span><span class="p">.</span><span class="nx">setLabData</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre>

<p>Asynchronously sets the lab data to the data provided.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
